@model GearShop.Models.Category_Models.CategoryDetail

<p>
    @if (User.Identity.Name == "admin@pjk120.com")
    {
    <a href="@Url.Action("Create", "Gear", routeValues: null)" class="btn btn-primary btn-sm mb-5">Create new Gear</a>
    }
</p>

<div class="category_detail">
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.CategoryName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CategoryName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.GearInCategory)
        </dt>
    </dl>

    <div class="row row-cols-1 row-cols-md-3">
        @{
            foreach (var gear in Model.GearInCategory)
            {
                <div class="col mb-4">
                    <div class="card h-100" style="width: 20rem;">
                        <img class="card-img-top" src="@Html.DisplayFor(model => gear.PictureUrl)" alt="Card image cap">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title mt-auto">@gear.Name</h5>
                            <a href="@Url.Action("Details", "Gear", new { id = gear.GearId})" class="btn btn-primary mt-auto">View this Gear</a>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
</div>
<br />

<p>
    @if (User.Identity.Name == "admin@pjk120.com")
    {
        <a href="@Url.Action("Edit", new { id = Model.CategoryId})" class="btn btn-primary mr-3">Edit this Category</a>
    }
    <a href="@Url.Action("Index")" class="btn btn-success">Back to all Categories</a>
</p>
